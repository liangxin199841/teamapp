{"version":3,"sources":["webpack:///./src/module-list/pages/table-list.vue?ee4d","webpack:///./src/mixins/pageMixin.js","webpack:///src/module-list/pages/table-list.vue","webpack:///./src/module-list/pages/table-list.vue?1256","webpack:///./src/module-list/pages/table-list.vue","webpack:///./src/api/example/table.js","webpack:///./src/module-list/pages/table-list.vue?b2b0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","formSearch","model","callback","$$v","$set","barSearch","staticStyle","_v","_e","on","handleSearch","handleRest","handleExpand","_s","expandBtnText","handleNew","alertText","items","handleSelectionChange","scopedSlots","_u","key","fn","scope","$event","handleEdit","row","handleDelete","pagination","currentPage","pageSizes","pageSize","total","handleSizeChange","handleCurrentChange","dialogVisible","handleClose","ref","rules","formData","slot","handleSave","staticRenderFns","methods","hasPermission","point","hasPermissionOfPoint","permission","inserted","el","binding","style","display","mixins","pageMixin","data","user","region","date1","date2","delivery","type","resource","desc","state","expandInputs","loading","multipleSelection","title","author","doQuery","page","limit","val","console","log","$confirm","$nextTick","isSave","$refs","validate","valid","message","created","component","list","createAPI"],"mappings":"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","file":"js/chunk-a312d2e8.a0af0546.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard-container\"},[_c('div',{staticClass:\"app-container\"},[_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"shadow\":\"never\"}},[_c('el-form',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('table-list-query'),expression:\"'table-list-query'\"}],attrs:{\"inline\":true,\"model\":_vm.formSearch}},[_c('el-form-item',{attrs:{\"label\":\"审批人\"}},[_c('el-input',{attrs:{\"placeholder\":\"审批人\"},model:{value:(_vm.formSearch.user),callback:function ($$v) {_vm.$set(_vm.formSearch, \"user\", $$v)},expression:\"formSearch.user\"}})],1),_c('el-form-item',{attrs:{\"label\":\"活动区域\"}},[_c('el-select',{attrs:{\"placeholder\":\"活动区域\"},model:{value:(_vm.formSearch.region),callback:function ($$v) {_vm.$set(_vm.formSearch, \"region\", $$v)},expression:\"formSearch.region\"}},[_c('el-option',{attrs:{\"label\":\"区域一\",\"value\":\"shanghai\"}}),_c('el-option',{attrs:{\"label\":\"区域二\",\"value\":\"beijing\"}})],1)],1),(_vm.barSearch.expandInputs)?_c('el-form-item',{attrs:{\"label\":\"活动时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.formSearch.date1),callback:function ($$v) {_vm.$set(_vm.formSearch, \"date1\", $$v)},expression:\"formSearch.date1\"}})],1),_c('el-col',{staticClass:\"line\",attrs:{\"span\":2}},[_vm._v(\"-\")]),_c('el-col',{attrs:{\"span\":11}},[_c('el-time-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"fixed-time\",\"placeholder\":\"选择时间\"},model:{value:(_vm.formSearch.date2),callback:function ($$v) {_vm.$set(_vm.formSearch, \"date2\", $$v)},expression:\"formSearch.date2\"}})],1)],1):_vm._e(),(_vm.barSearch.expandInputs)?_c('el-form-item',{attrs:{\"label\":\"即时配送\"}},[_c('el-switch',{model:{value:(_vm.formSearch.delivery),callback:function ($$v) {_vm.$set(_vm.formSearch, \"delivery\", $$v)},expression:\"formSearch.delivery\"}})],1):_vm._e(),(_vm.barSearch.expandInputs)?_c('el-form-item',{attrs:{\"label\":\"活动状态\"}},[_c('el-select',{attrs:{\"placeholder\":\"活动状态\"},model:{value:(_vm.formSearch.state),callback:function ($$v) {_vm.$set(_vm.formSearch, \"state\", $$v)},expression:\"formSearch.state\"}},[_c('el-option',{attrs:{\"label\":\"开启\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"关闭\",\"value\":\"0\"}})],1)],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")]),_c('el-button',{on:{\"click\":_vm.handleRest}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleExpand}},[_vm._v(_vm._s(_vm.barSearch.expandBtnText))])],1)],1),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('table-list-add'),expression:\"'table-list-add'\"}],attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleNew}},[_vm._v(\"新建\")]),(_vm.barSearch.alertText !== '')?_c('el-alert',{staticClass:\"alert\",attrs:{\"title\":_vm.barSearch.alertText,\"type\":\"info\",\"closable\":false,\"show-icon\":\"\"}}):_vm._e(),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"10px\"},attrs:{\"data\":_vm.items,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"author\",\"label\":\"作者\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"reviewer\",\"label\":\"审核\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"pageviews\",\"label\":\"浏览\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"display_time\",\"label\":\"日期\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"current-page\":_vm.pagination.currentPage,\"page-sizes\":_vm.pagination.pageSizes,\"page-size\":_vm.pagination.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formData,\"label-width\":\"50px\",\"label-position\":\"right\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"标题\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作者\",\"prop\":\"author\"}},[_c('el-input',{attrs:{\"placeholder\":\"作者\"},model:{value:(_vm.formData.author),callback:function ($$v) {_vm.$set(_vm.formData, \"author\", $$v)},expression:\"formData.author\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"类型\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},[_c('el-option',{attrs:{\"label\":\"CN\",\"value\":\"CN\"}}),_c('el-option',{attrs:{\"label\":\"US\",\"value\":\"US\"}}),_c('el-option',{attrs:{\"label\":\"JP\",\"value\":\"JP\"}}),_c('el-option',{attrs:{\"label\":\"EU\",\"value\":\"EU\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.handleSave(false)}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSave(true)}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { hasPermissionOfPoint } from '@/utils/permission'\r\n\r\nexport default {\r\n  methods: {\r\n    // 检查权限函数\r\n    hasPermission(point) {\r\n      return hasPermissionOfPoint(point)\r\n    }\r\n  },\r\n  directives: {\r\n    // 自定义检查权限点指令\r\n    permission: {\r\n      inserted: function(el, binding) {\r\n        let point = binding.value\r\n        if (!hasPermissionOfPoint(point)) {\r\n          el.style.display = 'none'\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"app-container\">\r\n      <el-card shadow=\"never\" v-loading=\"loading\">\r\n        <!-- 搜索栏 -->\r\n        <el-form :inline=\"true\" :model=\"formSearch\" v-permission=\"'table-list-query'\">\r\n          <el-form-item label=\"审批人\">\r\n            <el-input v-model=\"formSearch.user\" placeholder=\"审批人\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"活动区域\">\r\n            <el-select v-model=\"formSearch.region\" placeholder=\"活动区域\">\r\n              <el-option label=\"区域一\" value=\"shanghai\"></el-option>\r\n              <el-option label=\"区域二\" value=\"beijing\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"活动时间\" v-if=\"barSearch.expandInputs\">\r\n            <el-col :span=\"11\">\r\n              <el-date-picker\r\n                type=\"date\"\r\n                placeholder=\"选择日期\"\r\n                v-model=\"formSearch.date1\"\r\n                style=\"width: 100%;\"\r\n              ></el-date-picker>\r\n            </el-col>\r\n            <el-col class=\"line\" :span=\"2\">-</el-col>\r\n            <el-col :span=\"11\">\r\n              <el-time-picker\r\n                type=\"fixed-time\"\r\n                placeholder=\"选择时间\"\r\n                v-model=\"formSearch.date2\"\r\n                style=\"width: 100%;\"\r\n              ></el-time-picker>\r\n            </el-col>\r\n          </el-form-item>\r\n          <el-form-item label=\"即时配送\" v-if=\"barSearch.expandInputs\">\r\n            <el-switch v-model=\"formSearch.delivery\"></el-switch>\r\n          </el-form-item>\r\n          <el-form-item label=\"活动状态\" v-if=\"barSearch.expandInputs\">\r\n            <el-select v-model=\"formSearch.state\" placeholder=\"活动状态\">\r\n              <el-option label=\"开启\" value=\"1\"></el-option>\r\n              <el-option label=\"关闭\" value=\"0\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\r\n            <el-button @click=\"handleRest\">重置</el-button>\r\n            <el-button type=\"text\" @click=\"handleExpand\">{{barSearch.expandBtnText}}</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button \r\n          type=\"primary\" icon=\"el-icon-plus\" @click=\"handleNew\" \r\n          v-permission=\"'table-list-add'\"\r\n          >新建</el-button>\r\n        <el-alert\r\n          v-if=\"barSearch.alertText !== ''\"\r\n          :title=\"barSearch.alertText\"\r\n          type=\"info\"\r\n          class=\"alert\"\r\n          :closable=\"false\"\r\n          show-icon\r\n        ></el-alert>\r\n        <!-- 搜索栏 / -->\r\n        <!-- 数据表格 -->\r\n        <el-table\r\n          :data=\"items\"\r\n          border\r\n          style=\"width: 100%; margin-top:10px;\"\r\n          @selection-change=\"handleSelectionChange\"\r\n        >\r\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n          <el-table-column prop=\"title\" label=\"标题\"></el-table-column>\r\n          <el-table-column prop=\"type\" label=\"类型\" width=\"60\"></el-table-column>\r\n          <el-table-column prop=\"author\" label=\"作者\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"reviewer\" label=\"审核\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"pageviews\" label=\"浏览\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"display_time\" label=\"日期\" width=\"160\"></el-table-column>\r\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click=\"handleEdit(scope.row)\" type=\"text\" size=\"small\">编辑</el-button>\r\n              <el-button @click=\"handleDelete(scope.row)\" type=\"text\" size=\"small\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n          class=\"pagination\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pagination.currentPage\"\r\n          :page-sizes=\"pagination.pageSizes\"\r\n          :page-size=\"pagination.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"pagination.total\"\r\n        ></el-pagination>\r\n        <!-- 数据表格 / -->\r\n      </el-card>\r\n    </div>\r\n    <!-- 弹出窗 -->\r\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\r\n      <el-form\r\n        :rules=\"rules\"\r\n        ref=\"dataForm\"\r\n        :model=\"formData\"\r\n        label-width=\"50px\"\r\n        label-position=\"right\"\r\n      >\r\n        <el-form-item label=\"标题\" prop=\"title\">\r\n          <el-input v-model=\"formData.title\" placeholder=\"标题\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\" prop=\"author\">\r\n          <el-input v-model=\"formData.author\" placeholder=\"作者\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"类型\" prop=\"type\">\r\n          <el-select v-model=\"formData.type\" placeholder=\"类型\">\r\n            <el-option label=\"CN\" value=\"CN\"></el-option>\r\n            <el-option label=\"US\" value=\"US\"></el-option>\r\n            <el-option label=\"JP\" value=\"JP\"></el-option>\r\n            <el-option label=\"EU\" value=\"EU\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleSave(false)\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSave(true)\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 弹出窗 / -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { list } from '@/api/example/table'\r\nimport pageMixin from '@/mixins/pageMixin'\r\n\r\nexport default {\r\n  name: 'table-list',\r\n  mixins: [pageMixin],\r\n  data() {\r\n    return {\r\n      formSearch: {\r\n        user: '',\r\n        region: '',\r\n        date1: '',\r\n        date2: '',\r\n        delivery: false,\r\n        type: [],\r\n        resource: '',\r\n        desc: '',\r\n        state: ''\r\n      },\r\n      barSearch: {\r\n        expandInputs: false,\r\n        expandBtnText: '',\r\n        alertText: ''\r\n      },\r\n      items: [],\r\n      pagination: {\r\n        total: 0,\r\n        pageSize: 20,\r\n        pageSizes: [20, 50, 80, 120],\r\n        currentPage: 1\r\n      },\r\n      loading: false,\r\n      multipleSelection: [],\r\n      dialogVisible: false,\r\n      formData: [],\r\n      rules: {\r\n        title: [\r\n          { required: true, message: '请输入标题', trigger: 'blur' },\r\n          { min: 5, max: 45, message: '长度在 5 到 45 个字符', trigger: 'blur' }\r\n        ],\r\n        author: [\r\n          { required: true, message: '请输入作者', trigger: 'blur' },\r\n          { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        type: [{ required: true, message: '请选择类型', trigger: 'change' }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 业务方法\r\n    doQuery(page = 1, limit = 20) {\r\n      if (!this.hasPermission('table-list-query')) {\r\n        return\r\n      }\r\n      this.pagination.currentPage = page\r\n      this.pagination.pageSize = limit\r\n      this.loading = true\r\n      this.barSearch.alertText = ''\r\n      this.items = []\r\n      list({ page, limit })\r\n        .then(res => {\r\n          console.log(res.data)\r\n          this.items = res.data.items\r\n          this.pagination.total = res.data.total\r\n          this.barSearch.alertText = `共 ${this.pagination.total} 条记录`\r\n          this.loading = false\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          this.loading = false\r\n        })\r\n    },\r\n    // UI方法\r\n    handleRest() {\r\n      this.formSearch = {\r\n        user: '',\r\n        region: '',\r\n        date1: '',\r\n        date2: '',\r\n        delivery: false,\r\n        type: [],\r\n        resource: '',\r\n        desc: '',\r\n        state: ''\r\n      }\r\n    },\r\n    handleExpand() {\r\n      this.barSearch.expandInputs = !this.barSearch.expandInputs\r\n      this.barSearch.expandBtnText = this.barSearch.expandInputs\r\n        ? '收起▲'\r\n        : '展开▼'\r\n    },\r\n    handleSearch() {\r\n      this.doQuery()\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val\r\n      console.log(val, this.multipleSelection)\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`)\r\n      this.doQuery(1, val)\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`)\r\n      this.doQuery(val, this.pagination.pageSize)\r\n    },\r\n    handleClose() {\r\n      this.$confirm('确认关闭？')\r\n        .then(ret => {\r\n          console.log(ret)\r\n          this.dialogVisible = false\r\n        })\r\n        .catch(ret => {\r\n          console.log(ret)\r\n        })\r\n    },\r\n    handleNew() {\r\n      this.formData = {\r\n        title: '',\r\n        author: '',\r\n        type: ''\r\n      }\r\n      this.dialogVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    handleEdit(item) {\r\n      this.formData = {\r\n        ...item\r\n      }\r\n      this.dialogVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    handleSave(isSave) {\r\n      if (isSave) {\r\n        this.$refs['dataForm'].validate(valid => {\r\n          if (valid) {\r\n            this.dialogVisible = false\r\n            this.$message({\r\n              message: '保存成功',\r\n              type: 'success'\r\n            })\r\n          } else {\r\n            return false\r\n          }\r\n        })\r\n      } else {\r\n        this.dialogVisible = false\r\n      }\r\n    },\r\n    handleDelete(item) {\r\n      this.$confirm('确认删除？')\r\n        .then(ret => {\r\n          this.$message({\r\n            message: '删除成功',\r\n            type: 'success'\r\n          })\r\n          console.log(ret)\r\n        })\r\n        .catch(ret => {\r\n          console.log(ret)\r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    this.barSearch.expandInputs = false\r\n    this.barSearch.expandBtnText = '展开▼'\r\n    this.doQuery()\r\n  }\r\n}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.alert {\r\n  margin: 10px 0px 0px 0px;\r\n}\r\n.pagination {\r\n  margin-top: 10px;\r\n  text-align: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./table-list.vue?vue&type=template&id=2ef4945b&scoped=true&\"\nimport script from \"./table-list.vue?vue&type=script&lang=js&\"\nexport * from \"./table-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./table-list.vue?vue&type=style&index=0&id=2ef4945b&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ef4945b\",\n  null\n  \n)\n\nexport default component.exports","import {createAPI, createFormAPI} from '@/utils/request'\r\n\r\nexport const list = data => createAPI('/table/list', 'get', data)\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-list.vue?vue&type=style&index=0&id=2ef4945b&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-list.vue?vue&type=style&index=0&id=2ef4945b&rel=stylesheet%2Fscss&lang=scss&scoped=true&\""],"sourceRoot":""}